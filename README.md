# CoffeeHub
![image](https://github.com/user-attachments/assets/bd09d73f-5151-4362-82ad-d14af97d3d2f)

**CoffeeHub** - это сервис геймификации в IT-командах, который позволяет повысить мотивацию сотрудников за счёт начисления кружек кофе(внутриигровая валюта, которую можно обменять на мерч). 
Кружки можно получать за активность на репозитории и в корпоративных чатах.

## Наша система  

 ![mdliv_nuclear drawio](https://github.com/user-attachments/assets/9f6638eb-6a62-4506-98c1-c5d26b6dcb1a)

### Пользователь
Каждый сотрудник регистрируется на портале. У каждого пользователя есть счётчик кружек кофе, который пополняется от разных действий. Например, новых коммитов или сообщений в чате.  
Каждый пользователь может состоять в одной организации, куда его пригласят. Также авторизованный юзер может прикрепить свой гитхаб профиль.  

### Организация  
Пользователь может создать организацию, в которую можно приглашать других пользователей с помощью системы инвайтов. Каждая организация может прикрепить свой гитхаб репозиторий.  

### Гитхаб интеграция  
Как говорилось ранее, пользователь может авторизоваться через гитхаб. Наш гитхаб сервис, получив токен от OAuth приложения, может выполнять запросы к гитхабу. 
Core метод гитхаб интеграции - activity. Он собирает статистику юзера на репозитории организации за последнюю неделю.

**Activity** 
Складывается из коммитов, пулл реквестов, а также комментариев под коммитами. Комментарии анализируются LLM на предмет содержательности и в случае оценки ниже 5 не учитываются.  

**Итоговая формула**  
Подсчёт очков за активность на гитхабе производился по формуле:  
```score = 0.6 * total_commits + good_comments_percentage * total_comments + 0.1 * total_pulls```  
